@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    /* Prevent iOS from zooming on input focus */
    -webkit-text-size-adjust: 100%;
    /* Fill available viewport height */
    height: -webkit-fill-available;
    /* Prevent pull-to-refresh */
    overscroll-behavior-y: contain;
    /* Allow panning + pinch-zoom but don't block slider/interactive touches */
    touch-action: manipulation;
  }

  .video-fullscreen {
    width: 100%;
    height: 100%;
    background-color: black;
    object-position: center;
  }

  @media (orientation: portrait) {
    .video-fullscreen {
      object-fit: cover; /* fill screen on mobile */
    }
  }

  @media (orientation: landscape) {
    .video-fullscreen {
      object-fit: contain; /* avoid cropping in landscape */
    }
  }

  body {
    /* Support for dynamic viewport height */
    min-height: 100vh;
    min-height: -webkit-fill-available;
    /* Allow normal scrolling */
    overflow-x: hidden;
    overflow-y: auto;
    /* Smooth scrolling */
    -webkit-overflow-scrolling: touch;
    /* Prevent pull-to-refresh */
    overscroll-behavior-y: contain;
  }

  /* Custom scrollbar styles */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thumb-gray-700::-webkit-scrollbar-thumb,
  .scrollbar-thumb-slate-700::-webkit-scrollbar-thumb {
    background-color: rgb(55 65 81 / 0.8);
    border-radius: 9999px;
  }

  .scrollbar-thumb-gray-700::-webkit-scrollbar-thumb:hover,
  .scrollbar-thumb-slate-700::-webkit-scrollbar-thumb:hover {
    background-color: rgb(75 85 99 / 0.9);
  }

  .scrollbar-track-transparent::-webkit-scrollbar-track {
    background-color: transparent;
  }

  /* Prevent iOS zoom on input focus (font-size must be >= 16px) */
  @media screen and (max-width: 768px) {
    input, textarea, select {
      font-size: 16px !important;
    }
  }

  /* ─── Extra-small screens (320px–374px) ─── */
  @media screen and (max-width: 374px) {
    /* Tighter glass card radius on tiny screens */
    .glass-card {
      border-radius: 0.75rem;
    }

    /* Prevent any horizontal overflow */
    .glass-card img,
    .glass-card video {
      max-width: 100%;
    }

    /* Compact text for very small screens */
    .text-compact {
      font-size: 0.8125rem; /* 13px */
      line-height: 1.35;
    }
  }

  /* ─── Safe area insets for notched/pill phones ─── */
  @supports (padding: env(safe-area-inset-top)) {
    .safe-area-top {
      padding-top: env(safe-area-inset-top);
    }
    .safe-area-bottom {
      padding-bottom: env(safe-area-inset-bottom);
    }
    .safe-area-x {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
    }
  }

  /* ─── Touch-friendly tap targets ─── */
  @media screen and (max-width: 640px) {
    button, a, [role="button"] {
      min-height: 36px;
      min-width: 36px;
    }
  }

  .font-orbitron {
    font-family: var(--font-orbitron), 'Orbitron', sans-serif;
  }

  h1, h2, h3, h4, h5, h6, .heading {
    font-family: var(--font-orbitron), 'Orbitron', sans-serif;
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  .bitcount-prop-double-ink {
    font-family: "Bitcount Prop Double Ink", system-ui;
    font-optical-sizing: auto;
    font-weight: 400;
    font-style: normal;
    font-variation-settings:
      "slnt" 0,
      "CRSV" 0.5,
      "ELSH" 0,
      "ELXP" 0,
      "SZP1" 0,
      "SZP2" 0,
      "XPN1" 0,
      "XPN2" 0,
      "YPN1" 0,
      "YPN2" 0;
  }

  .bitcount-bold {
    font-family: "Bitcount Prop Double Ink", system-ui;
    font-optical-sizing: auto;
    font-weight: 700;
    font-style: normal;
    font-variation-settings:
      "slnt" 0,
      "CRSV" 0.5,
      "ELSH" 0,
      "ELXP" 0,
      "SZP1" 0,
      "SZP2" 0,
      "XPN1" 0,
      "XPN2" 0,
      "YPN1" 0,
      "YPN2" 0;
  }

  .bungee-regular {
    font-family: "Bungee", sans-serif;
    font-weight: 400;
    font-style: normal;
  }

  body {
    background-color: #000000;
    background-image: radial-gradient(ellipse at center, #0a0a0a 0%, #000000 100%);
    color: rgba(230, 247, 255, 0.92);
    min-height: 100vh;
  }
}

@layer components {
  /* Fade-in animation for mobile chat messages */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .glass-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    /* GPU layer promotion for scroll performance */
    will-change: transform;
    transform: translateZ(0);
  }

  .glass-panel {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(30px);
    -webkit-backdrop-filter: blur(30px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 12px;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    will-change: transform;
    transform: translateZ(0);
  }

  .glass-input {
    background: rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
  }

  .glass-input:focus {
    background: rgba(255, 255, 255, 0.06);
    border-color: rgba(255, 255, 255, 0.2);
    outline: none;
    box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.1);
  }

  .glass-button {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 8px;
    padding: 8px 16px;
    transition: all 200ms;
  }

  .glass-button:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.25);
    transform: translateY(-1px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  }

  .glass-button:active {
    transform: scale(0.95);
  }

  .message-bubble {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 12px;
    max-width: 320px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    animation: slideUp 0.3s ease-out;
  }

  .video-player {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .chat-input {
    background: rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 9999px;
    padding: 12px 24px;
    color: white;
    width: 100%;
  }

  .chat-input::placeholder {
    color: rgba(255, 255, 255, 0.6);
  }

  .chat-input:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.5);
  }

  /* ===== MOBILE PERFORMANCE: reduce expensive backdrop-blur ===== */
  @media (max-width: 768px) {
    .glass-card {
      background: rgba(10, 15, 25, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .glass-panel {
      background: rgba(10, 15, 25, 0.80);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .glass-input {
      background: rgba(15, 20, 30, 0.75);
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }

    .glass-button {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }

    .message-bubble {
      background: rgba(15, 20, 30, 0.85);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .chat-input {
      background: rgba(15, 20, 30, 0.80);
      backdrop-filter: none;
      -webkit-backdrop-filter: none;
    }
  }

  /* ===== RANGE SLIDER STYLING (cross-browser) ===== */
  .theme-range,
  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.15);
    outline: none;
    cursor: pointer;
    /* Critical: allow horizontal touch dragging on range sliders */
    touch-action: pan-x;
  }

  .theme-range::-webkit-slider-thumb,
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--range-accent, #00d4ff);
    border: 3px solid rgba(255, 255, 255, 0.9);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4), 0 0 12px var(--range-accent, rgba(0, 212, 255, 0.4));
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .theme-range::-webkit-slider-thumb:hover,
  input[type="range"]::-webkit-slider-thumb:hover,
  .theme-range:active::-webkit-slider-thumb,
  input[type="range"]:active::-webkit-slider-thumb {
    transform: scale(1.2);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.5), 0 0 20px var(--range-accent, rgba(0, 212, 255, 0.6));
  }

  /* Firefox */
  .theme-range::-moz-range-track,
  input[type="range"]::-moz-range-track {
    height: 8px;
    border-radius: 9999px;
    background: rgba(255, 255, 255, 0.15);
  }

  .theme-range::-moz-range-thumb,
  input[type="range"]::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--range-accent, #00d4ff);
    border: 3px solid rgba(255, 255, 255, 0.9);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  /* Hue slider special background */
  .hue-slider {
    background: linear-gradient(to right,
      hsl(0,100%,50%), hsl(30,100%,50%), hsl(60,100%,50%),
      hsl(90,100%,50%), hsl(120,100%,50%), hsl(150,100%,50%),
      hsl(180,100%,50%), hsl(210,100%,50%), hsl(240,100%,50%),
      hsl(270,100%,50%), hsl(300,100%,50%), hsl(330,100%,50%),
      hsl(360,100%,50%)
    ) !important;
  }

  .hue-slider::-webkit-slider-thumb {
    border: 3px solid #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
  }

  .hue-slider::-moz-range-thumb {
    border: 3px solid #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
  }
}

@layer utilities {
  .animate-typing {
    animation: typing 1.5s infinite;
  }

  @keyframes typing {
    0%, 60%, 100% {
      transform: translateY(0);
    }
    30% {
      transform: translateY(-10px);
    }
  }

  .gradient-text {
    background: linear-gradient(to right, #00d4ff, #0099ff, #0066cc);
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
  }

  /* Custom scrollbar styling - OKLCH theme */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 212, 255, 0.45) rgba(255, 255, 255, 0.08);
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.06);
    border-radius: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(0, 212, 255, 0.35);
    border-radius: 10px;
    border: 1px solid rgba(0, 212, 255, 0.25);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 212, 255, 0.55);
  }
}

@keyframes slideUp {
  0% {
    transform: translateY(10px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Floating bubble wobble animation for homepage */
.bubble-wobble {
  position: absolute;
  bottom: -100px;
  border-radius: 50%;
  animation-name: rise-wobble;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
  animation-duration: 10s;
  pointer-events: none; /* decorative, don't block clicks */
  /* Neon glow effect */
  box-shadow: 0 0 20px currentColor, 0 0 40px currentColor;
}

/* Neon blue color scheme */
.bubble-mango {
  background: rgba(0, 212, 255, 0.22);
  color: rgb(0, 212, 255);
}

.bubble-mango-light {
  background: rgba(0, 153, 255, 0.22);
  color: rgb(0, 153, 255);
}

.bubble-yellow {
  background: rgba(0, 102, 204, 0.22);
  color: rgb(0, 102, 204);
}

/* Size variants */
.bubble-sm { width: 16px; height: 16px; }
.bubble-md { width: 28px; height: 28px; }
.bubble-lg { width: 44px; height: 44px; }
.bubble-xl { width: 64px; height: 64px; }

/* Speed variants */
.bubble-fast { animation-duration: 7s; }
.bubble-normal { animation-duration: 10s; }
.bubble-slow { animation-duration: 14s; }

/* Staggered delays */
.bubble-delay-1 { animation-delay: 0.5s; }
.bubble-delay-2 { animation-delay: 1.2s; }
.bubble-delay-3 { animation-delay: 2.0s; }
.bubble-delay-4 { animation-delay: 3.3s; }
.bubble-delay-5 { animation-delay: 4.7s; }

@keyframes rise-wobble {
  0% { bottom: -100px; opacity: 0; transform: translateX(0); }
  25% { transform: translateX(var(--sway, 15px)); }
  50% { opacity: 1; transform: translateX(calc(var(--sway, 15px) * -1)); }
  75% { transform: translateX(calc(var(--sway, 15px) * 0.66)); }
  100% { bottom: 110vh; opacity: 0; transform: translateX(0); }
}

/* Profile Page Enhancements */
@layer components {
  .profile-stat-card {
    transition: all 0.3s ease;
  }

  .profile-stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(0, 212, 255, 0.25);
  }

  /* Scrollbar styling */
  .scrollbar-thin::-webkit-scrollbar {
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(0, 212, 255, 0.45);
    border-radius: 10px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 212, 255, 0.65);
  }
}

/* Mobile Profile Optimizations */
@media screen and (max-width: 768px) {
  .profile-avatar-upload {
    width: 96px !important;
    height: 96px !important;
  }

  .profile-header {
    flex-direction: column;
    text-align: center;
  }

  .profile-stats-grid {
    grid-template-columns: repeat(2, 1fr);
    width: 100%;
  }
}

/* Home page specific styles */
* { box-sizing: border-box; }

@keyframes pulse-line {
  0%, 100% {
    background: linear-gradient(90deg, rgba(0,255,204,0.3) 0%, rgba(0,255,204,0.1) 50%, rgba(0,255,204,0.3) 100%);
  }
  50% {
    background: linear-gradient(90deg, rgba(0,255,204,0.6) 0%, rgba(0,255,204,0.3) 50%, rgba(0,255,204,0.6) 100%);
  }
}

.connection-line { 
  position: absolute; 
  height: 2px; 
  transform-origin: left center; 
  opacity: 1; 
  animation: pulse-line 3s ease-in-out infinite; 
}

.center-hub { 
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); 
}

.center-hub img { 
  transition: all 0.5s ease; 
  filter: drop-shadow(0 0 20px rgba(0,255,204,0.5)); 
}

.center-hub:hover { 
  transform: scale(1.1) rotate(5deg); 
  box-shadow: 0 0 100px rgba(0,255,204,0.6), 0 0 180px rgba(0,150,255,0.4); 
}

.center-hub:hover img { 
  transform: scale(1.05); 
  filter: drop-shadow(0 0 30px rgba(0,255,204,0.8)); 
}

@keyframes float { 
  0%,100% { transform: translateY(0); } 
  50% { transform: translateY(-20px); } 
}

.orbit-item { 
  animation: float 6s ease-in-out infinite; 
  transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); 
  will-change: transform; 
}

.orbit-item::before { 
  content: ''; 
  position: absolute; 
  top: 0; 
  left: -100%; 
  width: 100%; 
  height: 100%; 
  background: linear-gradient(90deg, transparent, rgba(148,163,184,0.25), transparent); 
  transition: left 0.6s ease; 
}

.orbit-item:hover::before { 
  left: 100%; 
}

.orbit-item:hover { 
  transform: scale(1.15) translateY(-10px); 
  border-color: #94a3b8; 
  background: rgba(148,163,184,0.2); 
  box-shadow: 0 20px 60px rgba(100,116,139,0.25); 
  z-index: 50; 
  animation-play-state: paused; 
}

.orbit-icon { 
  width: 50px; 
  height: 50px; 
  margin-bottom: 1rem; 
  background: linear-gradient(135deg, #00ffcc, #0096ff); 
  border-radius: 12px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  font-size: 1.5rem; 
  transition: all 0.3s ease; 
}

.orbit-item:hover .orbit-icon { 
  transform: rotateY(180deg); 
  background: linear-gradient(135deg, #00ffcc, #0096ff); 
}

.orbit-item h4 { 
  font-size: 1.3rem; 
  margin-bottom: 0.5rem; 
  color: #0f172a; 
  transition: all 0.3s ease; 
  font-weight: 700; 
}

.orbit-item:hover h4 { 
  color: #334155; 
  transform: scale(1.05); 
}

.orbit-item p { 
  font-size: 0.85rem; 
  color: rgba(51,65,85,0.85); 
}

.orbit-badge { 
  position: absolute; 
  top: 10px; 
  right: 10px; 
  background: #8a2be2; 
  color: #0a0a0f; 
  font-size: 0.7rem; 
  padding: 0.3rem 0.6rem; 
  border-radius: 12px; 
  font-weight: 700; 
}

.detail-panel { 
  position: fixed; 
  right: -450px; 
  top: 0; 
  width: 450px; 
  height: 100vh; 
  background: rgba(10,10,15,0.95); 
  backdrop-filter: blur(20px); 
  border-left: 2px solid #8a2be2; 
  padding: 3rem 2.5rem; 
  transition: right 0.5s cubic-bezier(0.34, 1.56, 0.64, 1); 
  z-index: 1000; 
  overflow-y: auto; 
  box-shadow: -30px 0 80px rgba(0,0,0,0.8); 
}

.detail-panel.active { 
  right: 0; 
}

.detail-close { 
  position: absolute; 
  top: 2rem; 
  right: 2rem; 
  width: 45px; 
  height: 45px; 
  background: transparent; 
  border: 2px solid #8a2be2; 
  border-radius: 50%; 
  color: #8a2be2; 
  font-size: 1.8rem; 
  cursor: pointer; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  transition: all 0.3s ease; 
}

.detail-close:hover { 
  background: #9333ea; 
  color: #ffffff; 
  transform: rotate(90deg); 
}

.detail-content h2 { 
  font-size: 3rem; 
  margin-bottom: 1.5rem; 
  background: linear-gradient(135deg, #8a2be2, #9333ea); 
  -webkit-background-clip: text; 
  -webkit-text-fill-color: transparent; 
  background-clip: text; 
  font-weight: 900; 
}

.detail-description { 
  font-size: 1.15rem; 
  line-height: 1.8; 
  color: rgba(245,245,245,0.8); 
  margin-bottom: 2.5rem; 
}

.detail-features { 
  list-style: none; 
}

.detail-features li { 
  padding: 1.2rem; 
  margin-bottom: 1rem; 
  background: rgba(147,51,234,0.07); 
  border-left: 4px solid #8a2be2; 
  border-radius: 8px; 
  font-size: 1rem; 
  transition: all 0.3s ease; 
}

.detail-features li:hover { 
  background: rgba(147,51,234,0.15); 
  transform: translateX(10px); 
  border-left-color: #4b0082; 
}

@media (max-width: 640px) {
  .orbit-icon { 
    width: 42px; 
    height: 42px; 
    margin-bottom: 0.75rem; 
    font-size: 1.25rem; 
  }
  .orbit-item h4 { 
    font-size: 1.05rem; 
  }
  .orbit-item p { 
    font-size: 0.78rem; 
  }
}

@media (max-width: 1024px) {
  .detail-panel { 
    width: 100%; 
    right: -100%; 
  }
}

/* Touch-friendly index button expansion */
@media (hover: none) and (pointer: coarse) {
  .index-tab-button {
    -webkit-tap-highlight-color: transparent;
    transition: width 0.25s ease-out, transform 0.25s ease-out, background-color 0.2s ease, border-color 0.2s ease !important;
  }
  
  .index-tab-button:active {
    width: 11rem !important;
    transform: translateX(4px) !important;
  }
  
  .index-tab-button:active .tab-text,
  .index-tab-button:active .tab-badge {
    opacity: 1 !important;
  }
  
  .tab-text,
  .tab-badge {
    transition: opacity 0.25s ease-out !important;
  }
}

/* Global neon link styling for AI chat and markdown */
.neon-link {
  color: #00ffff !important;
  text-decoration: none !important;
  cursor: pointer !important;
  transition: all 0.3s ease !important;
  display: inline !important;
  font-family: inherit !important;
  font-size: inherit !important;
  line-height: inherit !important;
  pointer-events: auto !important;
  user-select: auto !important;
  background: linear-gradient(135deg, #00ffff, #0080ff) !important;
  background-clip: text !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.5) !important;
  padding: 2px 4px !important;
  border-radius: 4px !important;
  font-weight: 600 !important;
  position: relative !important;
}

.neon-link::before {
  content: "" !important;
  position: absolute !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  background: linear-gradient(135deg, rgba(0, 255, 255, 0.2), rgba(0, 128, 255, 0.2)) !important;
  border-radius: 4px !important;
  z-index: -1 !important;
  transition: all 0.3s ease !important;
}

.neon-link:hover {
  text-shadow: 0 0 20px rgba(0, 255, 255, 0.8), 0 0 30px rgba(0, 128, 255, 0.6) !important;
  transform: translateY(-1px) !important;
}

.neon-link:hover::before {
  background: linear-gradient(135deg, rgba(0, 255, 255, 0.4), rgba(0, 128, 255, 0.4)) !important;
  box-shadow: 0 0 15px rgba(0, 255, 255, 0.3) !important;
}

.neon-link:active, .neon-link:focus {
  text-shadow: 0 0 25px rgba(0, 255, 255, 1), 0 0 40px rgba(0, 128, 255, 0.8) !important;
  outline: none !important;
}

/* Chat message container overflow fixes */
.chat-message-container {
  word-wrap: break-word !important;
  word-break: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
}

.chat-message-container * {
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* ========================================
   CSS STARFIELD — Performant background
   3 elements, 0ms JS, GPU composited
   Replaces old SparkleBackground (150+ DOM nodes, continuous JS)
   ======================================== */
.starfield-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -10;
  background: radial-gradient(ellipse at center, #0a0a0a 0%, #000000 100%);
}

.stars-sm {
  position: absolute;
  width: 1px;
  height: 1px;
  background: transparent;
  box-shadow:
    12px 45px #fff, 87px 112px #fff, 156px 23px #fff, 234px 189px #fff,
    301px 67px #fff, 389px 234px #fff, 445px 12px #fff, 512px 178px #fff,
    34px 289px #fff, 178px 345px #fff, 267px 123px #fff, 356px 401px #fff,
    423px 267px #fff, 89px 401px #fff, 198px 456px #fff, 312px 34px #fff,
    67px 167px #fff, 145px 278px #fff, 234px 389px #fff, 378px 145px #fff,
    456px 312px #fff, 23px 423px #fff, 112px 89px #fff, 289px 267px #fff,
    401px 178px #fff, 478px 401px #fff, 56px 312px #fff, 167px 145px #fff,
    345px 456px #fff, 423px 89px #fff, 501px 234px #fff, 78px 378px #fff,
    189px 201px #fff, 278px 312px #fff, 367px 78px #fff, 445px 423px #fff,
    123px 456px #fff, 245px 56px #fff, 334px 234px #fff, 412px 345px #fff,
    490px 123px #fff, 45px 234px #fff, 134px 367px #fff, 223px 478px #fff,
    550px 50px #fff, 620px 190px #fff, 700px 310px #fff, 580px 420px #fff,
    660px 80px #fff, 740px 260px #fff, 530px 340px #fff, 610px 460px #fff,
    800px 100px #fff, 850px 280px #fff, 770px 400px #fff, 900px 160px #fff,
    830px 350px #fff, 950px 220px #fff, 720px 480px #fff, 880px 60px #fff,
    1000px 140px #fff, 1050px 300px #fff, 960px 420px #fff, 1100px 90px #fff,
    1030px 380px #fff, 1150px 200px #fff, 1080px 460px #fff, 1200px 120px #fff,
    1280px 210px #fff, 1350px 380px #fff, 1420px 90px #fff, 1500px 300px #fff,
    1560px 450px #fff, 1640px 170px #fff, 1700px 340px #fff, 1780px 60px #fff,
    1850px 430px #fff, 1920px 200px #fff;
  animation: starfield-twinkle-a 3s ease-in-out infinite alternate, starfield-drift 80s linear infinite;
}

.stars-md {
  position: absolute;
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow:
    45px 78px rgba(180,200,255,0.9), 178px 234px rgba(180,200,255,0.9),
    289px 12px rgba(255,220,180,0.9), 389px 345px rgba(180,200,255,0.9),
    67px 456px rgba(255,220,180,0.9), 201px 89px rgba(180,200,255,0.9),
    334px 178px rgba(180,200,255,0.9), 456px 267px rgba(255,220,180,0.9),
    123px 345px rgba(180,200,255,0.9), 267px 423px rgba(180,200,255,0.9),
    601px 56px rgba(255,220,180,0.9), 534px 189px rgba(180,200,255,0.9),
    756px 401px rgba(180,200,255,0.9), 812px 134px rgba(255,220,180,0.9),
    678px 389px rgba(180,200,255,0.9), 900px 267px rgba(180,200,255,0.9),
    1034px 312px rgba(180,200,255,0.9), 1167px 123px rgba(255,220,180,0.9),
    1001px 445px rgba(180,200,255,0.9), 1145px 278px rgba(180,200,255,0.9),
    1320px 160px rgba(180,200,255,0.9), 1480px 380px rgba(255,220,180,0.9),
    1600px 240px rgba(180,200,255,0.9), 1750px 420px rgba(180,200,255,0.9),
    1880px 100px rgba(255,220,180,0.9);
  animation: starfield-twinkle-b 5s ease-in-out infinite alternate, starfield-drift 120s linear infinite;
}

.stars-lg {
  position: absolute;
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background: transparent;
  box-shadow:
    112px 156px rgba(200,220,255,1), 334px 289px rgba(255,230,200,1),
    456px 78px rgba(200,220,255,1), 78px 345px rgba(200,220,255,1),
    234px 201px rgba(255,230,200,1), 689px 123px rgba(200,220,255,1),
    867px 367px rgba(200,220,255,1), 1045px 189px rgba(255,230,200,1),
    1300px 300px rgba(200,220,255,1), 1550px 120px rgba(255,230,200,1),
    1780px 380px rgba(200,220,255,1);
  animation: starfield-twinkle-c 4s ease-in-out infinite alternate;
}

/* Ambient glow — single static radial gradient, no animation */
.ambient-glow {
  position: fixed;
  top: 30%;
  left: 50%;
  width: 600px;
  height: 600px;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(40,60,150,0.06) 0%, transparent 70%);
  pointer-events: none;
  z-index: -9;
}

/* Starfield keyframes — only transform & opacity (GPU composited, zero layout cost) */
@keyframes starfield-twinkle-a { 0% { opacity: 0.4; } 100% { opacity: 1; } }
@keyframes starfield-twinkle-b { 0% { opacity: 0.7; } 100% { opacity: 0.3; } }
@keyframes starfield-twinkle-c { 0% { opacity: 0.5; } 100% { opacity: 1; } }
@keyframes starfield-drift {
  from { transform: translateY(0); }
  to { transform: translateY(-40px); }
}

/* ===== MOBILE: disable drift animation for extra perf ===== */
@media (max-width: 768px) {
  .stars-sm { animation: starfield-twinkle-a 3s ease-in-out infinite alternate; }
  .stars-md { animation: starfield-twinkle-b 5s ease-in-out infinite alternate; }
}